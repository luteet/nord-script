import headerScroll from"./header-scroll.js";import pin from"./pin.js";import sliders from"./sliders.js";import Popup from"./popup.js";const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),header=document.querySelector(".header"),imageAspectRatio=document.querySelectorAll(".image-aspect-ratio, figure img");imageAspectRatio.forEach(e=>{e.getAttribute("width")&&e.getAttribute("height")&&e.style.setProperty("--aspect-ratio",`${e.getAttribute("width")}/${e.getAttribute("height")}`)}),body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("is-mobile-menu-active")});t(".header__nav_background, .header__nav_close")&&menu.forEach(e=>{e.classList.remove("is-mobile-menu-active")});let o=t(".scroll-to");if(o){let t;e.preventDefault(),t=document.querySelector(o.getAttribute("href")),menu.forEach(e=>{e.classList.remove("is-mobile-menu-active")}),t?window.scroll({left:0,top:t.offsetTop-header.offsetHeight,behavior:"smooth"}):body.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}}));let aboutOffsetTop,windowSize=0,aboutSection=document.querySelector(".about");function resize(){header&&!header.classList.contains("is-fixed")&&html.style.setProperty("--height-header",header.offsetHeight+"px"),!body.classList.contains("is-mobile-menu-active")&&html.style.setProperty("--size-scrollbar",window.innerWidth-body.offsetWidth+"px"),html.style.setProperty("--vh",(.01*window.innerHeight).toFixed(2)+"px"),windowSize!=window.innerWidth&&(html.style.setProperty("--svh",(.01*window.innerHeight).toFixed(2)+"px"),aboutSection&&(aboutOffsetTop=aboutSection.offsetTop)),windowSize=window.innerWidth}resize(),window.addEventListener("resize",resize);const popup=new Popup;popup.init(),sliders({aboutOffsetTop:aboutOffsetTop}),headerScroll(),pin({header:header}),document.querySelectorAll(".feedback-popup__communication-input").forEach(e=>{const t=e.closest(".feedback-popup__communication").querySelector(".feedback-popup__communication-checkbox input");e.addEventListener("focus",()=>{t.checked=!0})}),document.querySelector(".feedback-popup__form").addEventListener("submit",e=>{e.preventDefault()}),new LazyLoad,AOS.init({disable:"mobile",once:!0});